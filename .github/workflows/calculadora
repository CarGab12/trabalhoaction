name: Calc, List & Count HTML
on:
  workflow_dispatch:
  push:
    branches: [ main, master ]

jobs:
  actions-demo:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Calcular 2+2 em variável e imprimir
        run: |
          RESULT=$((2 + 2))
          echo "Variável RESULT = $RESULT"
          # Exporta para o log de output (opcional)
          echo "::set-output name=result::$RESULT"

      - name: Listar arquivos do repo
        run: |
          echo "Arquivos no repo:"
          ls -la

      - name: Contar arquivos .html
        run: |
          COUNT_HTML=$(find . -maxdepth 2 -type f -iname "*.html" | wc -l)
          echo "Quantidade de arquivos .html: $COUNT_HTML"
